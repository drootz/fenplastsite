function fromToClass(t,e,n){t.hasClass(e)&&(t.removeClass(e),t.addClass(n))}function switchClass(t,e,n){t.hasClass(e)?(t.addClass(n),t.removeClass(e)):t.hasClass(n)&&(t.addClass(e),t.removeClass(n))}function pageLoadInit(){}function resizeInit(){var t=$("#js-header-hero");if($("body").hasClass("js-laptop")||$("body").hasClass("js-desktop")){var e=vh-107-25-50;$("#js-nav-menu").show(),$("#js-header-hero").css("height",vh),$("#js-carousel-container").css("height",e),$(".js-main-carousel").length&&$(".js-main-carousel").flickity({autoPlay:5e3,setGallerySize:!1,wrapAround:!0,prevNextButtons:!0}),$(".main-gallery").length&&$(".main-gallery").flickity({autoPlay:2500,wrapAround:!0,prevNextButtons:!0}),$(".js-slider-realisation").length&&($(".js-slider-realisation").flickity({autoPlay:!1,wrapAround:!0,prevNextButtons:!0,pageDots:!1,lazyLoad:1}),$(".js-slider-realisation-nav").flickity({asNavFor:".js-slider-realisation",pageDots:!1,prevNextButtons:!0,wrapAround:!0,lazyLoad:3}))}else $("#js-nav-menu").hide(),fromToClass($("#js-nav"),"fa-times","fa-bars"),$(".js-main-carousel").length&&$(".js-main-carousel").flickity({autoPlay:5e3,wrapAround:!0,setGallerySize:!0,prevNextButtons:!1,friction:.4}),$(".main-gallery").length&&$(".main-gallery").flickity({autoPlay:4e3,wrapAround:!0,prevNextButtons:!1,friction:.4}),$(".js-slider-realisation").length&&($(".js-slider-realisation").flickity({autoPlay:!1,wrapAround:!0,prevNextButtons:!1,pageDots:!1,lazyLoad:1,friction:.4}),$(".js-slider-realisation-nav").flickity({asNavFor:".js-slider-realisation",pageDots:!1,prevNextButtons:!1,wrapAround:!0,freeScroll:!0,freeScrollFriction:.03,lazyLoad:3,friction:.4}));$(".js-promo-carousel").each(function(t,e){var n=$(this).parent().height();$(this).css("margin-top",n/2)}),$("iframe.vimeo").each(function(){var t=$(this).parent("div").width(),e=$(this);e.width(t).height(t*e.data("aspectRatio"))})}function setWindowDimension(){void 0!==window.innerWidth&&(vw=window.innerWidth,vh=window.innerHeight,scrollPostion=vw<vwLaptop?0:83)}function setViewportScale(){if(vw<1050){var t;t=document.getElementsByName("viewport"),t[0].setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1")}}function jsMediaQ(){function t(t){e.className=t}var e=document.getElementsByTagName("body")[0];t(vw>=vwDesktop?"js-desktop":vw>=vwLaptop?"js-laptop":vw>=vwTablet?"js-tablet":vw>=vwPhablet?"js-phablet":"js-mobile")}function viewportIni(){setWindowDimension(),setViewportScale(),jsMediaQ(),detectBrowser(),animPosition=vh*heightTrigger,st=vh*ps,nd=vh*pe}function initMap(){var t={lat:45.5518806,lng:-73.5786761},e=new google.maps.Map(document.getElementById("map"),{zoom:15,center:{lat:45.5535,lng:-73.5786761}}),n=new google.maps.Marker({position:t,map:e}),a="https://www.google.ca/maps/dir//3247+Rue+Dandurand,+Montreal,+QC",o=new google.maps.InfoWindow({content:'<div class="l-gmap-row row clearfix"><div class="col-02 m-gmap-logo"><img src="favicon-32x32.png" alt="logo" width="16px" height="auto"></div><div class="col-10 m-gmap-name">Le Marchand de Fenêtres</div><div class="col-10 m-gmap-address">3247, rue Dandurand<br />Montreal QC &nbsp;H1Y 1V6</div><div class="col-10 m-gmap-direction"><a href="https://www.google.ca/maps/dir//3247+Rue+Dandurand,+Montreal,+QC" target="_BLANK">Direction</a></div></div>'});n.addListener("click",function(){o.open(e,n)}),(new google.maps.TransitLayer).setMap(e),o.open(e,n)}function handleLocationError(t,e,n){e.setPosition(n),e.setContent(t?"Error: The Geolocation service failed.":"Error: Your browser doesn't support geolocation.")}function detectBrowser(){var t=navigator.userAgent,e=document.getElementById("map");t.indexOf("iPhone")!=-1||t.indexOf("Android"),e.style.width="100%",e.style.height="100%"}var vh,vw,scrollPostion,heightTrigger=.4,animPosition,ps=1-heightTrigger+.2,pe=1-heightTrigger-.2,st,nd,vwDesktop=1440,vwLaptop=1040,vwTablet=768,vwPhablet=600;!function(){viewportIni(),window.attachEvent?window.attachEvent("onresize",function(){viewportIni()}):window.addEventListener?window.addEventListener("resize",function(){viewportIni()},!0):viewportIni()}(),$(document).ready(function(){function t(t){t.preventDefault(),h.removeClass("slide-in").find("li").show(),v.removeClass("move-left"),$("body").removeClass("cd-overlay")}function e(){n(),a()}function n(){var t=$(".faq").offset().top,e=jQuery(".faq").height()-jQuery(".categories").height(),n=132;if(t-132<=$(window).scrollTop()&&t-132+e>$(window).scrollTop()){var a=p.offset().left,o=p.width();p.addClass("is-fixed").css({left:a,top:132,"-moz-transform":"translateZ(0)","-webkit-transform":"translateZ(0)","-ms-transform":"translateZ(0)","-o-transform":"translateZ(0)",transform:"translateZ(0)"})}else if(t-132+e<=$(window).scrollTop()){var i=t-132+e-$(window).scrollTop();p.css({"-moz-transform":"translateZ(0) translateY("+i+"px)","-webkit-transform":"translateZ(0) translateY("+i+"px)","-ms-transform":"translateZ(0) translateY("+i+"px)","-o-transform":"translateZ(0) translateY("+i+"px)",transform:"translateZ(0) translateY("+i+"px)"})}else p.removeClass("is-fixed").css({left:0,top:0})}function a(){u.each(function(){var t=$(this),e=parseInt($(".faq-title").eq(1).css("marginTop").replace("px","")),n=$('.categories a[href="#'+t.attr("id")+'"]');(n.parent("li").is(":first-child")?0:Math.round(t.offset().top))-132<=$(window).scrollTop()&&Math.round(t.offset().top)+t.height()+e-138>$(window).scrollTop()?n.addClass("selected"):n.removeClass("selected")})}function o(t){var e=new RegExp("(?:^"+t+"|;s*"+t+")=(.*?)(?:;|$)","g"),n=e.exec(document.cookie);return null===n?null:n[1]}function i(t){var e=t.find("input");t.trigger("reset"),e.each(function(){$(this).val(""),$(this).focus()}),e.last().blur()}function s(t){$("#captcha").length&&grecaptcha.reset()}function r(t,e){var n=t,a=$.parseJSON(e);a.modal&&(alert(a.notification),alert(a.data)),a.redirect||$("#js-form-output").length&&$("#js-form-output").html("<span>"+a.data+"</span>")}$("#js-nav").click(function(){$("#js-nav-menu").slideToggle({start:function(){$("#js-nav").hasClass("fa-times")&&fromToClass($(".m-nav-primary"),"is-opened","is-closed")},complete:function(){$("#js-nav").hasClass("fa-times")&&fromToClass($(".m-nav-primary"),"is-closed","is-opened")}}),switchClass($("#js-nav"),"fa-bars","fa-times")}),$(".js-sub-nav-btn").hover(function(){var t=$(this).children(".m-sub-nav");t.is(":visible")?(t.hide(),fromToClass(t,"is-expanded","is-collapsed")):(t.slideDown(),fromToClass(t,"is-collapsed","is-expanded"))});var l=$("iframe.vimeo");if(l.each(function(){$(this).data("aspectRatio",this.height/this.width).removeAttr("height").removeAttr("width")}),l.each(function(){var t=$(this).parent("div").width(),e=$(this);e.width(t).height(t*e.data("aspectRatio"))}),pageLoadInit(),resizeInit(),$("[type='text'], [type='password'], [type='email'], [type='url'], [type='tel'], textarea").focusout(function(){var t=$(this);""!==t.val()?t.hasClass("has-value")||t.addClass("has-value"):t.hasClass("has-value")&&t.removeClass("has-value")}),$(function(){$("a[href*=#]:not([href=#])").click(function(){if(0===$(this).parents(".m-faq").length&&location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);t=t.length?t:$("[id="+this.hash.slice(1)+"]");var e=t.attr("id"),n=$("#"+e);if(t.length)return $("html,body").animate({scrollTop:t.offset().top-scrollPostion},500,function(){n.addClass("js-anim-bg"),setTimeout(function(){n.removeClass("js-anim-bg")},2e3)}),!1}})}),$(".m-faq").length){var d=768,c=1040,u=$(".faq-group"),f=$(".trigger"),h=$(".faq-items"),p=$(".categories"),m=p.find("a"),v=$(".cd-close-panel");m.on("click",function(t){t.preventDefault();var e=$(this).attr("href"),n=$(e);$(window).width()<768?(h.scrollTop(0).addClass("slide-in").children("ul").removeClass("selected").end().children(e).addClass("selected"),v.addClass("move-left"),$("body").addClass("cd-overlay")):$("body,html").animate({scrollTop:n.offset().top-132},200)}),$("body").bind("click touchstart",function(e){($(e.target).is("body.cd-overlay")||$(e.target).is(".cd-close-panel"))&&t(e)}),h.on("swiperight",function(e){t(e)}),f.on("click",function(t){t.preventDefault(),$(this).next(".faq-content").slideToggle(200).end().parent("li").toggleClass("content-visible")}),$(window).on("scroll",function(){$(window).width()>1040&&(window.requestAnimationFrame?window.requestAnimationFrame(e):e())}),$(window).on("resize",function(){$(window).width()<=1040&&p.removeClass("is-fixed").css({"-moz-transform":"translateY(0)","-webkit-transform":"translateY(0)","-ms-transform":"translateY(0)","-o-transform":"translateY(0)",transform:"translateY(0)"}),p.hasClass("is-fixed")&&p.css({left:h.offset().left})})}if($(".m-loading").length){var g=$(".m-loading");$(document).ajaxStart(function(){g.hasClass("isLoading")||g.addClass("isLoading")}).ajaxStop(function(){g.hasClass("isLoading")&&g.removeClass("isLoading")})}$("[type='tel']").keyup(function(){var t=$(this),e=t.val();/^\((\b\d{3}\b)\) (\b\d{4}\b)$/g.test(e)?t.val(e.substring(0,e.length-1)+"-"+e.charAt(e.length-1)):/^\((\b\d{3}\b)\)\d$/g.test(e)?t.val(e.substring(0,e.length-1)+" "+e.charAt(e.length-1)):/^(\b\d{3}\b)$/g.test(e)&&t.val("("+e+")")});var w,y,C;"en_CA"==o("lang")?(w="Unable to submit the email at this time. Please contact us by phone.",y="Invalid phone number.",C="Invalid name format."):(w="Échec de l'envois du courriel. S'il vous plaît nous contacter par téléphone.",y="Numéro de téléphone invalide.",C="Format du nom invalide."),$.validator.addMethod("nameCheck",function(t){return/^[a-zA-ZàèìòùÀÈÌÒÙáéíóúýÁÉÍÓÚÝâêîôûÂÊÎÔÛãñõÃÑÕäëïöüÿÄËÏÖÜŸçÇßØøÅåÆæœ\s\- ]+$/.test(t)},C),$.validator.addMethod("phoneCheck",function(t){return/^[0-9\-\(\) ]+$/.test(t)},y);var b=$("#contact");b.validate({rules:{txt_username:{nameCheck:!0},txt_phone:{phoneCheck:!0}},submitHandler:function(t){$.post("contactez-nous.php",b.serialize()).done(function(t){r(b,t)}).fail(function(){$("#js-form-output").html("<span>"+w+"</span>"),s(b)})}}),$(window).resize(function(){resizeInit()})}),$(window).scroll(function(){}),function(){for(var t,e=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],a=n.length,o=window.console=window.console||{};a--;)t=n[a],o[t]||(o[t]=e)}(),function(t,e,n){"undefined"!=typeof module&&module.exports?module.exports=n():t.verge=n()}(this,"verge",function(){function t(){return{width:c(),height:u()}}function e(t,e){var n={};return e=+e||0,n.width=(n.right=t.right+e)-(n.left=t.left-e),n.height=(n.bottom=t.bottom+e)-(n.top=t.top-e),n}function n(t,n){return!(!(t=t&&!t.nodeType?t[0]:t)||1!==t.nodeType)&&e(t.getBoundingClientRect(),n)}function a(e){e=null==e?t():1===e.nodeType?n(e):e;var a=e.height,o=e.width;return a="function"==typeof a?a.call(e):a,(o="function"==typeof o?o.call(e):o)/a}var o={},i="undefined"!=typeof window&&window,s="undefined"!=typeof document&&document,r=s&&s.documentElement,l=i.matchMedia||i.msMatchMedia,d=l?function(t){return!!l.call(i,t).matches}:function(){return!1},c=o.viewportW=function(){var t=r.clientWidth,e=i.innerWidth;return t<e?e:t},u=o.viewportH=function(){var t=r.clientHeight,e=i.innerHeight;return t<e?e:t};return o.mq=d,o.matchMedia=l?function(){return l.apply(i,arguments)}:function(){return{}},o.viewport=t,o.scrollX=function(){return i.pageXOffset||r.scrollLeft},o.scrollY=function(){return i.pageYOffset||r.scrollTop},o.rectangle=n,o.aspect=a,o.inX=function(t,e){var a=n(t,e);return!!a&&a.right>=0&&a.left<=c()},o.inY=function(t,e){var a=n(t,e);return!!a&&a.bottom>=0&&a.top<=u()},o.inViewport=function(t,e){var a=n(t,e);return!!a&&a.bottom>=0&&a.right>=0&&a.top<=u()&&a.left<=c()},o});